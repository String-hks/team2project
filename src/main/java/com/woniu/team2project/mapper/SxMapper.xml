<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.woniu.team2project.mapper.SxMapper">
	<!-- 新增事项 -->
	<insert id="insertSx">
		insert into tb_sx values
			(#{sx_id},#{sx_name},#{sx_type.sx_type_id},#{sx_status.sx_status_id},
			#{sx_time},#{founder.user_id},#{sx_content},#{sx_remark},#{urgency.urgency_id},
			#{county.county_id},#{industry.industry_id},#{sx_end_time},#{office.office_id});
	</insert>

	<!-- 根据主键删除事项 -->
	<delete id="deleteSx">
		update tb_sx set sx_status_id=8 where sx_id=#{sx_id}
	</delete>

	<!-- 更改事项 -->
	<update id="updateSx">
		update tb_sx set 
			sx_name= #{sx_name},sx_type_id= #{sx_type.sx_type_id},sx_status_id=#{sx_status.sx_status_id},sx_time=#{sx_time},
			sx_founder_id=#{founder.user_id},sx_content=#{sx_content},sx_remark=#{sx_remark},sx_urgency_id=#{urgency.urgency_id},
			county_id=#{county.county_id},industry_id=#{industry.industry_id},sx_end_time=#{sx_end_time},office_id=#{office.office_id}
		where sx_id= #{sx_id}
	</update>
	
	<update id="updateSxStatus">
		update tb_sx set sx_status_id=#{sx_status_id} where sx_id= #{sx_id}
	</update>
</mapper>